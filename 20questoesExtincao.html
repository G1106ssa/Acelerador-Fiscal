<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: Decad√™ncia e Prescri√ß√£o Tribut√°ria | SEFAZ GO</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
        }

        /* Header - Identidade Acelerador Fiscal */
        .quiz-header {
            background: linear-gradient(180deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 25px 40px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .quiz-header h1 {
            font-size: 1.4em;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .quiz-header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            gap: 20px;
        }

        .quiz-header p {
            opacity: 0.85;
            font-size: 0.85em;
            margin: 0;
        }

        .quiz-stats {
            display: flex;
            gap: 20px;
            align-items: center;
            opacity: 0.9;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.85em;
        }

        .stat-value {
            font-weight: 700;
            font-size: 1.1em;
        }

        .stat-correct {
            color: #4CAF50;
        }

        .stat-wrong {
            color: #ff6b6b;
        }

        .stat-percentage {
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 12px;
            border-radius: 15px;
            font-weight: 700;
        }

        .quiz-progress {
            background: rgba(255, 255, 255, 0.2);
            height: 4px;
            border-radius: 10px;
            margin-top: 15px;
            overflow: hidden;
        }

        .quiz-progress-bar {
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            height: 100%;
            transition: width 0.3s ease;
        }

        /* Container Principal */
        .quiz-container {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
        }

        /* Card da Quest√£o - Minimalista */
        .question-card {
            background: white;
            border-radius: 12px;
            padding: 35px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .question-number {
            display: inline-block;
            background: #1e3c72;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            font-size: 0.85em;
        }

        .question-text {
            font-size: 1.1em;
            line-height: 1.7;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .question-meta {
            font-size: 0.8em;
            color: #7f8c8d;
            padding: 10px 0;
            margin-bottom: 25px;
            border-bottom: 1px solid #ecf0f1;
        }

        /* Op√ß√µes - Minimalistas */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 8px;
            padding: 16px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover:not(.disabled) {
            background: #e9ecef;
            border-color: #1e3c72;
            transform: translateX(5px);
        }

        .option-letter {
            background: #1e3c72;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
            font-size: 0.9em;
        }

        .option-text {
            flex: 1;
            color: #2c3e50;
            line-height: 1.5;
        }

        /* Estados das respostas */
        .option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .option.correct .option-letter {
            background: #28a745;
        }

        .option.wrong {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .option.wrong .option-letter {
            background: #dc3545;
        }

        .option.disabled {
            cursor: not-allowed;
        }

        /* Feedback */
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-weight: 500;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Controles - Minimalistas */
        .quiz-controls {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 25px;
        }

        .btn {
            padding: 12px 28px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .btn-secondary {
            background: #e9ecef;
            color: #495057;
        }

        .btn-secondary:hover:not(:disabled) {
            background: #dee2e6;
        }

        .btn-primary {
            background: #1e3c72;
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background: #2a5298;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Resultado Final - Minimalista */
        .score-display {
            text-align: center;
            padding: 50px 20px;
        }

        .score-display h2 {
            color: #1e3c72;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .score-display p {
            font-size: 1.1em;
            color: #495057;
            margin: 15px 0;
        }

        .score-percentage {
            font-size: 3.5em;
            font-weight: bold;
            color: #1e3c72;
            margin: 30px 0;
        }

        /* Hist√≥rico de Desempenho */
        .history-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .history-title {
            font-size: 1.3em;
            color: #1e3c72;
            font-weight: 600;
        }

        .history-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #1e3c72;
            transform: translateY(-3px);
        }

        .stat-card.best {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
        }

        .stat-card-value {
            font-size: 2em;
            font-weight: bold;
            color: #1e3c72;
            margin-bottom: 5px;
        }

        .stat-card-label {
            font-size: 0.85em;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .history-list {
            margin-top: 25px;
        }

        .history-list-title {
            font-size: 1.1em;
            color: #495057;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #1e3c72;
            transition: all 0.2s ease;
        }

        .history-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .history-item.best-score {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-left-color: #ffa726;
        }

        .history-date {
            font-size: 0.85em;
            color: #666;
        }

        .history-score {
            font-size: 1.1em;
            font-weight: 600;
            color: #1e3c72;
        }

        .history-badge {
            font-size: 1.2em;
            margin-left: 10px;
        }

        .chart-container {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .chart-title {
            font-size: 1.1em;
            color: #495057;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .chart {
            position: relative;
            height: 200px;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            gap: 10px;
            padding: 20px 0;
        }

        .chart-bar {
            flex: 1;
            background: linear-gradient(180deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 8px 8px 0 0;
            position: relative;
            min-height: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .chart-bar:hover {
            opacity: 0.8;
            transform: translateY(-5px);
        }

        .chart-bar.best {
            background: linear-gradient(180deg, #ffa726 0%, #ff9800 100%);
        }

        .chart-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75em;
            font-weight: 600;
            color: #495057;
        }

        .chart-label {
            text-align: center;
            font-size: 0.7em;
            color: #666;
            margin-top: 8px;
        }

        .empty-history {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }

        .empty-history-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .btn-clear {
            background: #dc3545;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-clear:hover {
            background: #c82333;
        }

        .btn-view-history {
            background: #1e3c72;
            color: white;
            padding: 12px 28px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-top: 15px;
        }

        .btn-view-history:hover {
            background: #2a5298;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .quiz-header {
                padding: 20px;
            }

            .quiz-header h1 {
                font-size: 1.2em;
            }

            .quiz-header-info {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }

            .quiz-stats {
                gap: 15px;
            }

            .stat-item {
                font-size: 0.8em;
            }

            .question-card {
                padding: 25px 20px;
            }

            .quiz-controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .history-stats {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .history-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .chart {
                height: 150px;
            }

            .history-section {
                padding: 20px;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <div class="quiz-header">
        <h1>üéØ Quiz: Decad√™ncia e Prescri√ß√£o Tribut√°ria</h1>
        <div class="quiz-header-info">
            <p id="questionCounter">Quest√£o 1 de 20</p>
            <div class="quiz-stats">
                <div class="stat-item">
                    <span>‚úÖ</span>
                    <span class="stat-value stat-correct" id="correctCount">0</span>
                </div>
                <div class="stat-item">
                    <span>‚ùå</span>
                    <span class="stat-value stat-wrong" id="wrongCount">0</span>
                </div>
                <div class="stat-item stat-percentage" id="percentageDisplay">0%</div>
            </div>
        </div>
        <div class="quiz-progress">
            <div class="quiz-progress-bar" id="progressBar" style="width: 5%"></div>
        </div>
    </div>

    <!-- Container -->
    <div class="quiz-container">
        <div id="quizBody"></div>

        <div class="quiz-controls">
            <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">‚Üê Anterior</button>
            <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Pr√≥xima ‚Üí</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                text: "A empresa Beta confessou d√©bitos de ISS dos anos de 2015 e 2016 para aderir a um parcelamento oferecido pelo Munic√≠pio em 2023. N√£o tendo pago as parcelas, sofreu execu√ß√£o fiscal ajuizada em 2024. A empresa alegou decad√™ncia do direito de o Munic√≠pio constituir esses cr√©ditos.",
                meta: "Ano: 2024 | Banca: FCC | √ìrg√£o: TJ-RR | Cargo: Juiz",
                options: [
                    "A confiss√£o da d√≠vida supre a falta de lan√ßamento formal.",
                    "A decad√™ncia s√≥ se consuma com ato expresso da autoridade administrativa.",
                    "A ades√£o ao parcelamento interrompe o prazo decadencial.",
                    "A decad√™ncia extingue o cr√©dito tribut√°rio.",
                    "A declara√ß√£o do contribuinte constitui o cr√©dito tribut√°rio."
                ],
                correct: 3
            },
            {
                id: 2,
                text: "Sobre a diferen√ßa entre prescri√ß√£o e decad√™ncia no Direito Tribut√°rio, considere o caso em que o Munic√≠pio perdeu o direito de constituir formalmente o cr√©dito tribut√°rio de IPTU ap√≥s 5 anos do fato gerador.",
                meta: "Ano: 2023 | Banca: VUNESP | √ìrg√£o: Prefeitura de Suzano | Cargo: Procurador",
                options: [
                    "A prescri√ß√£o s√≥ se aplica a impostos.",
                    "A decad√™ncia impede o lan√ßamento ap√≥s 5 anos do fato gerador.",
                    "A prescri√ß√£o ocorre em 5 anos ap√≥s o lan√ßamento.",
                    "Ambos os institutos s√£o interrompidos por A√ß√£o Direta de Inconstitucionalidade."
                ],
                correct: 1
            },
            {
                id: 3,
                text: "Em se tratando de tributo sujeito a lan√ßamento por homologa√ß√£o, salvo na hip√≥tese de dolo, fraude ou simula√ß√£o, o prazo decadencial para a Fazenda P√∫blica constituir o cr√©dito tribut√°rio conta-se",
                meta: "Ano: 2022 | Banca: FCC | √ìrg√£o: SEFAZ-PE | Cargo: Auditor Fiscal",
                options: [
                    "da data do pagamento antecipado.",
                    "da data da ocorr√™ncia do fato gerador.",
                    "do conhecimento pelo sujeito ativo da ocorr√™ncia do fato gerador.",
                    "do primeiro dia do exerc√≠cio seguinte √†quele em que o lan√ßamento poderia ter sido efetuado.",
                    "do primeiro dia do exerc√≠cio seguinte √†quele em que o pagamento foi efetuado."
                ],
                correct: 1
            },
            {
                id: 4,
                text: "A notifica√ß√£o do lan√ßamento atrav√©s de auto de infra√ß√£o cessa a contagem do prazo decadencial para a constitui√ß√£o do cr√©dito tribut√°rio.",
                meta: "Ano: 2021 | Banca: CESPE | √ìrg√£o: TCE-RJ | Cargo: Auditor",
                options: [
                    "Certo",
                    "Errado"
                ],
                correct: 1
            },
            {
                id: 5,
                text: "A prescri√ß√£o e a decad√™ncia se aplicam para o procedimento administrativo relativo a:",
                meta: "Ano: 2021 | Banca: FGV | √ìrg√£o: TCE-AM | Cargo: Auditor",
                options: [
                    "Revis√£o do cr√©dito tribut√°rio.",
                    "Extin√ß√£o do cr√©dito tribut√°rio.",
                    "Suspens√£o da exigibilidade do cr√©dito tribut√°rio.",
                    "Pagamento do cr√©dito tribut√°rio."
                ],
                correct: 1
            },
            {
                id: 6,
                text: "Sobre os cr√©ditos de foro, laud√™mio e taxa de ocupa√ß√£o de im√≥veis da Uni√£o, e considerando o Tema 1142 do STJ:",
                meta: "Ano: 2020 | Banca: CESPE | √ìrg√£o: MPE-CE | Cargo: Promotor",
                options: [
                    "A Taxa de Ocupa√ß√£o √© receita de natureza tribut√°ria.",
                    "O foro √© receita patrimonial e deve ser aplicado em obras no local do im√≥vel.",
                    "O prazo decadencial √© decenal, limitado a 5 anos para per√≠odo anterior √† inscri√ß√£o em d√≠vida ativa.",
                    "Os cr√©ditos est√£o submetidos aos prazos de decad√™ncia e prescri√ß√£o de 5 anos, conforme Lei 9.636/1998 e Tema 1142/STJ.",
                    "O laud√™mio √© taxa paga previamente, aplicando-se o CTN por analogia."
                ],
                correct: 3
            },
            {
                id: 7,
                text: "O C√≥digo Tribut√°rio Nacional prescreve que o lan√ßamento tribut√°rio:",
                meta: "Ano: 2020 | Banca: FCC | √ìrg√£o: SEFAZ-BA | Cargo: Auditor Fiscal",
                options: [
                    "√â ato privativo da Administra√ß√£o P√∫blica ou pessoa jur√≠dica de direito p√∫blico.",
                    "A homologa√ß√£o √© ato da Administra√ß√£o P√∫blica e do sujeito passivo.",
                    "O sujeito passivo pode constituir o cr√©dito tribut√°rio.",
                    "O lan√ßamento misto √© constitu√≠do com informa√ß√µes da Administra√ß√£o, sujeito passivo ou terceiros.",
                    "No autolan√ßamento, a decad√™ncia inicia no primeiro dia do exerc√≠cio seguinte ao fato gerador."
                ],
                correct: 3
            },
            {
                id: 8,
                text: "Nos termos do art. 195, par√°grafo √∫nico, do CTN, o per√≠odo em que os contribuintes devem conservar os livros obrigat√≥rios est√° atrelado ao prazo de:",
                meta: "Ano: 2020 | Banca: FCC | √ìrg√£o: TJ-MA | Cargo: Juiz",
                options: [
                    "Decad√™ncia dos cr√©ditos tribut√°rios.",
                    "Decad√™ncia dos d√©bitos inscritos em d√≠vida ativa.",
                    "Prescri√ß√£o do ajuizamento de mandado de seguran√ßa.",
                    "Prescri√ß√£o dos cr√©ditos tribut√°rios."
                ],
                correct: 3
            },
            {
                id: 9,
                text: "Nos tributos sujeitos a lan√ßamento por homologa√ß√£o, se a lei n√£o fixar prazo a homologa√ß√£o, ser√° ele de:",
                meta: "Ano: 2019 | Banca: VUNESP | √ìrg√£o: Prefeitura de Guarulhos | Cargo: Procurador",
                options: [
                    "2 anos, a contar da data da ocorr√™ncia do fato gerador.",
                    "5 anos, a contar da data da ocorr√™ncia do fato gerador.",
                    "3 anos, a contar da data da ocorr√™ncia do fato gerador.",
                    "10 anos, a contar da data da homologa√ß√£o."
                ],
                correct: 1
            },
            {
                id: 10,
                text: "A Lei 8.212/91, em seus artigos 45 e 46, estabeleceu prazos de prescri√ß√£o e decad√™ncia para contribui√ß√µes previdenci√°rias. Um advogado alega que tais dispositivos permanecem aplic√°veis. Sobre essa discuss√£o:",
                meta: "Ano: 2019 | Banca: FCC | √ìrg√£o: SEFAZ-SC | Cargo: Auditor Fiscal",
                options: [
                    "O advogado est√° correto.",
                    "A Lei 8.212/91 pode disciplinar os prazos, desde que n√£o contrarie o CTN.",
                    "Os artigos 45 e 46 foram declarados inconstitucionais pelo STF.",
                    "Contribui√ß√µes previdenci√°rias n√£o s√£o tribut√°rias.",
                    "O CTN n√£o disciplina contribui√ß√µes previdenci√°rias."
                ],
                correct: 2
            },
            {
                id: 11,
                text: "Sobre a normatiza√ß√£o de prescri√ß√£o e decad√™ncia tribut√°ria, segundo posicionamento do STF:",
                meta: "Ano: 2019 | Banca: CESPE | √ìrg√£o: PGE-PE | Cargo: Procurador",
                options: [
                    "Depende da esp√©cie tribut√°ria envolvida.",
                    "Ambas s√≥ podem ser disciplinadas por lei complementar.",
                    "Ambas podem ser disciplinadas por lei complementar ou lei ordin√°ria.",
                    "Decad√™ncia s√≥ por lei complementar; prescri√ß√£o por lei ordin√°ria.",
                    "Prescri√ß√£o s√≥ por lei complementar; decad√™ncia por lei ordin√°ria."
                ],
                correct: 1
            },
            {
                id: 12,
                text: "O Munic√≠pio notificou o contribuinte em 15/04/2020 sobre contribui√ß√£o de melhoria, com prazo de pagamento at√© 14/05/2020. O prazo para cobran√ßa do cr√©dito √©:",
                meta: "Ano: 2019 | Banca: VUNESP | √ìrg√£o: Prefeitura de Ribeir√£o Preto | Cargo: Procurador",
                options: [
                    "Decadencial, contado de 15/04/2020.",
                    "Prescricional, contado de 01/01/2021.",
                    "Prescricional, contado de 16/04/2020.",
                    "Decadencial, contado de 15/05/2020.",
                    "Prescricional, contado de 15/05/2020."
                ],
                correct: 4
            },
            {
                id: 13,
                text: "Segundo as regras gerais do CTN, o prazo legal para a Fazenda P√∫blica exercer a exigibilidade do cr√©dito tribut√°rio √© de:",
                meta: "Ano: 2019 | Banca: FCC | √ìrg√£o: SEFAZ-AP | Cargo: Auditor Fiscal",
                options: [
                    "5 anos, decadencial, ap√≥s o lan√ßamento.",
                    "5 anos, prescricional, ap√≥s o lan√ßamento.",
                    "5 anos, prescricional, ap√≥s o fato gerador.",
                    "2 anos, decadencial, ap√≥s o fato gerador.",
                    "2 anos, prescricional, ap√≥s o lan√ßamento."
                ],
                correct: 1
            },
            {
                id: 14,
                text: "O prazo decadencial para a Fazenda P√∫blica constituir o cr√©dito tribut√°rio √© de:",
                meta: "Ano: 2018 | Banca: FCC | √ìrg√£o: ALESE | Cargo: Procurador",
                options: [
                    "4 anos.",
                    "3 anos.",
                    "2 anos.",
                    "6 anos.",
                    "5 anos."
                ],
                correct: 4
            },
            {
                id: 15,
                text: "Em 2018, empresa pagou ISS antecipadamente, mas omitiu parte dos valores. Em 2024, o Fisco constitui o cr√©dito sobre a parte n√£o paga. N√£o houve dolo ou fraude.",
                meta: "Ano: 2019 | Banca: VUNESP | √ìrg√£o: Prefeitura de S√£o Paulo | Cargo: Auditor Fiscal",
                options: [
                    "Todos os cr√©ditos extintos por decad√™ncia (2018-2023).",
                    "Cr√©dito n√£o pago pode ser constitu√≠do (decad√™ncia conta de 01/01/2019).",
                    "Cr√©dito pago pode ser revisado (extin√ß√£o condicional).",
                    "Cr√©dito pago pode ser revisado (decad√™ncia inicia com homologa√ß√£o).",
                    "Cr√©dito n√£o pago extinto em 2023 (decad√™ncia do fato gerador)."
                ],
                correct: 1
            },
            {
                id: 16,
                text: "Contribuinte apresentou declara√ß√£o de IRPF em 31/05/2024, n√£o tendo sido homologada. O termo final do prazo decadencial √©:",
                meta: "Ano: 2018 | Banca: FCC | √ìrg√£o: SEFAZ-GO | Cargo: Auditor Fiscal",
                options: [
                    "01/01/2030.",
                    "31/05/2029.",
                    "31/05/2030.",
                    "01/01/2029."
                ],
                correct: 0
            },
            {
                id: 17,
                text: "O prazo decadencial para lan√ßamento de of√≠cio do IPVA (Estado) e IPTU (Munic√≠pio) do ano de 2023 inicia e termina em:",
                meta: "Ano: 2018 | Banca: CESPE | √ìrg√£o: SEFAZ-RS | Cargo: Auditor Fiscal",
                options: [
                    "01/01/2023 a 31/12/2028.",
                    "01/01/2024 a 31/12/2029.",
                    "01/01/2024 a 31/12/2028.",
                    "01/01/2023 a 31/12/2029."
                ],
                correct: 2
            },
            {
                id: 18,
                text: "O prazo para a Fazenda P√∫blica lan√ßar tributo sujeito a lan√ßamento por homologa√ß√£o √© de:",
                meta: "Ano: 2017 | Banca: FCC | √ìrg√£o: SEFAZ-MA | Cargo: Auditor Fiscal",
                options: [
                    "2 anos, a contar do fato gerador.",
                    "5 anos, a contar da constitui√ß√£o do cr√©dito.",
                    "3 anos, a contar da notifica√ß√£o.",
                    "10 anos, a contar da homologa√ß√£o.",
                    "5 anos, a contar do fato gerador."
                ],
                correct: 4
            },
            {
                id: 19,
                text: "A prescri√ß√£o da a√ß√£o de cobran√ßa do cr√©dito tribut√°rio (5 anos) se interrompe por:",
                meta: "Ano: 2017 | Banca: VUNESP | √ìrg√£o: Prefeitura de Bauru | Cargo: Procurador",
                options: [
                    "Despacho do juiz que ordena a cita√ß√£o em execu√ß√£o fiscal.",
                    "Protesto judicial.",
                    "Qualquer ato judicial que n√£o constitua em mora.",
                    "Qualquer ato extrajudicial de reconhecimento."
                ],
                correct: 0
            },
            {
                id: 20,
                text: "Empresa comete fraude (falsifica√ß√£o) para pagar menos ICMS. Sa√≠da da mercadoria: 05/04/2023. Pagamento parcial: 15/05/2023. Prazo do Fisco para constituir o cr√©dito:",
                meta: "Ano: 2016 | Banca: FCC | √ìrg√£o: SEFAZ-MT | Cargo: Auditor Fiscal",
                options: [
                    "5 anos, a contar da sa√≠da (houve pagamento parcial).",
                    "5 anos, a contar de 01/01/2024 (havendo fraude, inicia no exerc√≠cio seguinte).",
                    "5 anos, a contar do pagamento (houve pagamento parcial).",
                    "5 anos, a contar de 01/01/2024 (houve pagamento parcial).",
                    "10 anos, a contar do fato gerador (√© por homologa√ß√£o)."
                ],
                correct: 1
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let wrongAnswers = 0;
        let answered = [];

        function loadQuestion() {
            const question = questions[currentQuestion];
            const quizBody = document.getElementById('quizBody');

            const letters = ['A', 'B', 'C', 'D', 'E'];
            const optionsHTML = question.options.map((option, index) => `
                <div class="option" onclick="selectAnswer(${index})" id="option-${index}">
                    <div class="option-letter">${letters[index]}</div>
                    <div class="option-text">${option}</div>
                </div>
            `).join('');

            quizBody.innerHTML = `
                <div class="question-card">
                    <span class="question-number">Quest√£o ${question.id}</span>
                    <div class="question-text">${question.text}</div>
                    <div class="question-meta">${question.meta}</div>
                    <div class="options-container">
                        ${optionsHTML}
                    </div>
                    <div class="feedback" id="feedback"></div>
                </div>
            `;

            updateProgress();
            updateButtons();
        }

        function selectAnswer(index) {
            if (answered[currentQuestion]) return;

            const question = questions[currentQuestion];
            const feedback = document.getElementById('feedback');
            const options = document.querySelectorAll('.option');

            options.forEach(opt => opt.classList.add('disabled'));

            if (index === question.correct) {
                options[index].classList.add('correct');
                feedback.className = 'feedback show success';
                feedback.innerHTML = '‚úÖ Resposta Correta!';
                score++;
            } else {
                options[index].classList.add('wrong');
                options[question.correct].classList.add('correct');
                const letters = ['A', 'B', 'C', 'D', 'E'];
                feedback.className = 'feedback show error';
                feedback.innerHTML = `‚ùå Resposta Incorreta! A resposta correta √© a alternativa ${letters[question.correct]}.`;
                wrongAnswers++;
            }

            answered[currentQuestion] = true;
            updateButtons();
            updateStats();
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showFinalScore();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('questionCounter').textContent = `Quest√£o ${currentQuestion + 1} de ${questions.length}`;
        }

        function updateStats() {
            const totalAnswered = score + wrongAnswers;
            const percentage = totalAnswered > 0 ? Math.round((score / totalAnswered) * 100) : 0;
            
            document.getElementById('correctCount').textContent = score;
            document.getElementById('wrongCount').textContent = wrongAnswers;
            document.getElementById('percentageDisplay').textContent = percentage + '%';
        }

        function updateButtons() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').disabled = !answered[currentQuestion];

            if (currentQuestion === questions.length - 1 && answered[currentQuestion]) {
                document.getElementById('nextBtn').textContent = 'Ver Resultado ‚Üí';
            } else {
                document.getElementById('nextBtn').textContent = 'Pr√≥xima ‚Üí';
            }
        }

        function showFinalScore() {
            const percentage = Math.round((score / questions.length) * 100);
            const quizBody = document.getElementById('quizBody');

            // Salvar resultado no hist√≥rico
            saveToHistory(score, questions.length, percentage);

            let message = '';
            if (percentage >= 70) {
                message = 'üéâ Excelente! Voc√™ est√° preparado!';
            } else if (percentage >= 50) {
                message = 'üëç Bom trabalho! Continue estudando!';
            } else {
                message = 'üìö Continue estudando! Voc√™ vai conseguir!';
            }

            quizBody.innerHTML = `
                <div class="question-card score-display">
                    <h2>${message}</h2>
                    <p>Voc√™ acertou <strong>${score}</strong> de <strong>${questions.length}</strong> quest√µes</p>
                    <div class="score-percentage">${percentage}%</div>
                    <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Refazer Quiz</button>
                    <button class="btn btn-view-history" onclick="showHistory()">üìä Ver Hist√≥rico</button>
                </div>
            `;

            document.querySelector('.quiz-controls').style.display = 'none';
        }

        // ========== SISTEMA DE HIST√ìRICO ==========

        function saveToHistory(correct, total, percentage) {
            const history = getHistory();
            const attempt = {
                date: new Date().toISOString(),
                correct: correct,
                total: total,
                percentage: percentage,
                timestamp: Date.now()
            };
            
            history.push(attempt);
            localStorage.setItem('quizHistory', JSON.stringify(history));
        }

        function getHistory() {
            const stored = localStorage.getItem('quizHistory');
            return stored ? JSON.parse(stored) : [];
        }

        function clearHistory() {
            if (confirm('Tem certeza que deseja limpar todo o hist√≥rico? Esta a√ß√£o n√£o pode ser desfeita.')) {
                localStorage.removeItem('quizHistory');
                showHistory();
            }
        }

        function showHistory() {
            const history = getHistory();
            const quizBody = document.getElementById('quizBody');

            if (history.length === 0) {
                quizBody.innerHTML = `
                    <div class="history-section">
                        <div class="empty-history">
                            <div class="empty-history-icon">üìä</div>
                            <h3>Nenhum hist√≥rico ainda</h3>
                            <p>Complete o quiz para come√ßar a acompanhar seu progresso!</p>
                            <button class="btn btn-primary" onclick="restartQuiz()" style="margin-top: 20px;">Iniciar Quiz</button>
                        </div>
                    </div>
                `;
                document.querySelector('.quiz-controls').style.display = 'none';
                return;
            }

            // Calcular estat√≠sticas
            const bestScore = Math.max(...history.map(h => h.percentage));
            const avgScore = Math.round(history.reduce((sum, h) => sum + h.percentage, 0) / history.length);
            const totalAttempts = history.length;

            // Ordenar hist√≥rico (mais recente primeiro)
            const sortedHistory = [...history].sort((a, b) => b.timestamp - a.timestamp);

            // Pegar √∫ltimas 10 tentativas
            const recentHistory = sortedHistory.slice(0, 10);

            // Gerar lista de hist√≥rico
            const historyHTML = recentHistory.map((attempt, index) => {
                const date = new Date(attempt.date);
                const dateStr = date.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });
                const timeStr = date.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
                const isBest = attempt.percentage === bestScore;
                
                return `
                    <div class="history-item ${isBest ? 'best-score' : ''}">
                        <span class="history-date">${dateStr} √†s ${timeStr}</span>
                        <span>
                            <span class="history-score">${attempt.percentage}% (${attempt.correct}/${attempt.total})</span>
                            ${isBest ? '<span class="history-badge">üèÜ</span>' : ''}
                        </span>
                    </div>
                `;
            }).join('');

            // Gerar gr√°fico (√∫ltimas 10 tentativas)
            const chartData = recentHistory.slice(0, 10).reverse();
            const maxPercentage = 100;
            
            const chartHTML = chartData.map((attempt, index) => {
                const height = (attempt.percentage / maxPercentage) * 100;
                const isBest = attempt.percentage === bestScore;
                const date = new Date(attempt.date);
                const label = date.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });
                
                return `
                    <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                        <div class="chart-bar ${isBest ? 'best' : ''}" 
                             style="height: ${height}%"
                             title="${attempt.percentage}% - ${label}">
                            <span class="chart-value">${attempt.percentage}%</span>
                        </div>
                        <div class="chart-label">${label}</div>
                    </div>
                `;
            }).join('');

            quizBody.innerHTML = `
                <div class="history-section">
                    <div class="history-header">
                        <h2 class="history-title">üìä Seu Desempenho</h2>
                        <button class="btn-clear" onclick="clearHistory()">üóëÔ∏è Limpar Hist√≥rico</button>
                    </div>

                    <div class="history-stats">
                        <div class="stat-card best">
                            <div class="stat-card-value">üèÜ ${bestScore}%</div>
                            <div class="stat-card-label">Melhor Pontua√ß√£o</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-value">${avgScore}%</div>
                            <div class="stat-card-label">M√©dia Geral</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-value">${totalAttempts}</div>
                            <div class="stat-card-label">Tentativas</div>
                        </div>
                    </div>

                    ${chartData.length > 1 ? `
                        <div class="chart-container">
                            <h3 class="chart-title">üìà Evolu√ß√£o (√öltimas ${chartData.length} tentativas)</h3>
                            <div class="chart">
                                ${chartHTML}
                            </div>
                        </div>
                    ` : ''}

                    <div class="history-list">
                        <h3 class="history-list-title">üìù √öltimas Tentativas</h3>
                        ${historyHTML}
                    </div>

                    <div style="text-align: center; margin-top: 30px;">
                        <button class="btn btn-primary" onclick="restartQuiz()">üîÑ Fazer Novo Quiz</button>
                    </div>
                </div>
            `;

            document.querySelector('.quiz-controls').style.display = 'none';
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            wrongAnswers = 0;
            answered = [];
            document.querySelector('.quiz-controls').style.display = 'flex';
            updateStats();
            loadQuestion();
        }

        // Inicializar quiz
        loadQuestion();
    </script>
</body>

</html>
